var e={},t=[],r=e=>e,n=t.map,i=Array.isArray,o="undefined"!=typeof requestAnimationFrame?requestAnimationFrame:setTimeout,a=e=>{var t="";if("string"==typeof e)return e;if(i(e))for(var r,n=0;n<e.length;n++)(r=a(e[n]))&&(t+=(t&&" ")+r);else for(var n in e)e[n]&&(t+=(t&&" ")+n);return t},u=(e,t)=>{for(var r in{...e,...t})if("function"==typeof(i(e[r])?e[r][0]:e[r]))t[r]=e[r];else if(e[r]!==t[r])return!0},l=e=>null==e?e:e.key,s=(e,t,r,n,i,o)=>{if("key"===t);else if("style"===t)for(var u in{...r,...n})r=null==n||null==n[u]?"":n[u],"-"===u[0]?e[t].setProperty(u,r):e[t][u]=r;else"o"===t[0]&&"n"===t[1]?((e.events||(e.events={}))[t=t.slice(2)]=n)?r||e.addEventListener(t,i):e.removeEventListener(t,i):!o&&"list"!==t&&"form"!==t&&t in e?e[t]=null==n?"":n:null==n||!1===n||"class"===t&&!(n=a(n))?e.removeAttribute(t):e.setAttribute(t,n)},f=(e,t,r)=>{var n=e.props,i=3===e.type?document.createTextNode(e.tag):(r=r||"svg"===e.tag)?document.createElementNS("http://www.w3.org/2000/svg",e.tag,n.is&&n):document.createElement(e.tag,n.is&&n);for(var o in n)s(i,o,null,n[o],t,r);for(var a=0;a<e.children.length;a++)i.appendChild(f(e.children[a]=d(e.children[a]),t,r));return e.node=i},p=(e,t,r,n,i,o)=>{if(r===n);else if(null!=r&&3===r.type&&3===n.type)r.tag!==n.tag&&(t.nodeValue=n.tag);else if(null==r||r.tag!==n.tag)t=e.insertBefore(f(n=d(n),i,o),t),null!=r&&e.removeChild(r.node);else{var a,u,c,v,h=r.props,m=n.props,g=r.children,y=n.children,E=0,w=0,x=g.length-1,A=y.length-1;for(var b in o=o||"svg"===n.tag,{...h,...m})("value"===b||"selected"===b||"checked"===b?t[b]:h[b])!==m[b]&&s(t,b,h[b],m[b],i,o);for(;w<=A&&E<=x&&null!=(c=l(g[E]))&&c===l(y[w]);)p(t,g[E].node,g[E],y[w]=d(y[w++],g[E++]),i,o);for(;w<=A&&E<=x&&null!=(c=l(g[x]))&&c===l(y[A]);)p(t,g[x].node,g[x],y[A]=d(y[A--],g[x--]),i,o);if(E>x)for(;w<=A;)t.insertBefore(f(y[w]=d(y[w++]),i,o),(u=g[E])&&u.node);else if(w>A)for(;E<=x;)t.removeChild(g[E++].node);else{var C={},R={};for(b=E;b<=x;b++)null!=(c=g[b].key)&&(C[c]=g[b]);for(;w<=A;)c=l(u=g[E]),v=l(y[w]=d(y[w],u)),R[c]||null!=v&&v===l(g[E+1])?(null==c&&t.removeChild(u.node),E++):null==v||1===r.type?(null==c&&(p(t,u&&u.node,u,y[w],i,o),w++),E++):(c===v?(p(t,u.node,u,y[w],i,o),R[v]=!0,E++):null!=(a=C[v])?(p(t,t.insertBefore(a.node,u&&u.node),a,y[w],i,o),R[v]=!0):p(t,u&&u.node,null,y[w],i,o),w++);for(;E<=x;)null==l(u=g[E++])&&t.removeChild(u.node);for(var b in C)null==R[b]&&t.removeChild(C[b].node)}}return n.node=t},d=(e,t)=>!0!==e&&!1!==e&&e?"function"==typeof e.tag?((!t||null==t.memo||((e,t)=>{for(var r in e)if(e[r]!==t[r])return!0;for(var r in t)if(e[r]!==t[r])return!0})(t.memo,e.memo))&&((t=e.tag(e.memo)).memo=e.memo),t):e:h(""),c=t=>3===t.nodeType?h(t.nodeValue,t):v(t.nodeName.toLowerCase(),e,n.call(t.childNodes,c),1,t),v=(e,t,r,n,i)=>({tag:e,props:t,key:t.key,children:r,type:n,node:i}),h=(r,n)=>v(r,e,t,3,n);const m=e=>" "==e||"\t"==e||"\n"==e||"\r"==e,g=(e,r)=>{let n,o,a,u,l,s=[],f="",p=0,d=!0;const c=e=>(e||0===e)&&s.push("string"==typeof e?h(e):"number"==typeof e?h(""+e):e),g=(e,r=e.flat(2))=>{c(n.call?n(a,r):((e,r,n=t)=>v(e,r,i(n)?n:[n]))(n,a,r)),p=0},y=e=>{e&&(f=f.trimEnd()),f&&c(f),d=!1,f=""},E=()=>{u=[s,n,a,u],s=[],p=0},w=(e=p)=>{n=f,f="",a={},p=e},x=(e=p)=>{a[f]=!0,p=e,f=""},A=e=>{a[o]=e,p=5,f=""},b=()=>{let e=s;[s,n,a,u]=u,g(e)};for(let t=0;t<e.length;t++){for(let r=0;r<e[t].length;r++)l=e[t][r],0==p?"<"==l?p=2:m(l)?"\n"==l?d=!0:d||(p=1,f=l):(p=1,f=l):1==p?"<"==l?p=2:"\n"==l?(y(!1),d=!0,p=0):f+=l:2==p?"/"==l?(p=3,y(!0)):(p=4,y(!1),f=l):3==p?">"==l&&b():4==p?m(l)?w(5):"/"==l?w(6):">"==l?(w(),E()):f+=l:6==p?">"==l&&g([]):5==p?"."==l||("/"==l?p=6:">"==l?E():m(l)||(f=l,p=7)):7==p?"="==l?(o=f,p=8):">"==l?(x(),E()):"/"==l?x(6):m(l)?x(5):f+=l:8==p?'"'==l&&(p=9,f=""):9==p&&('"'==l?A(f):f+=l);2==p?(n=r[t],a={},p=5):1==p?(y(!r[t]),c(r[t])):5==p?a={...a,...r[t]}:8==p?A(r[t]):9==p?f+=r[t]:0==p&&null!=r[t]&&c(r[t])}return s=s.flat(2),s.length>1?s:s[0]};var y=(e,...t)=>g(e,t);function E(e,t){void 0===t&&(t={});for(var r=function(e){for(var t=[],r=0;r<e.length;){var n=e[r];if("*"!==n&&"+"!==n&&"?"!==n)if("\\"!==n)if("{"!==n)if("}"!==n)if(":"!==n)if("("!==n)t.push({type:"CHAR",index:r,value:e[r++]});else{var i=1,o="";if("?"===e[u=r+1])throw new TypeError('Pattern cannot start with "?" at '+u);for(;u<e.length;)if("\\"!==e[u]){if(")"===e[u]){if(0==--i){u++;break}}else if("("===e[u]&&(i++,"?"!==e[u+1]))throw new TypeError("Capturing groups are not allowed at "+u);o+=e[u++]}else o+=e[u++]+e[u++];if(i)throw new TypeError("Unbalanced pattern at "+r);if(!o)throw new TypeError("Missing pattern at "+r);t.push({type:"PATTERN",index:r,value:o}),r=u}else{for(var a="",u=r+1;u<e.length;){var l=e.charCodeAt(u);if(!(l>=48&&l<=57||l>=65&&l<=90||l>=97&&l<=122||95===l))break;a+=e[u++]}if(!a)throw new TypeError("Missing parameter name at "+r);t.push({type:"NAME",index:r,value:a}),r=u}else t.push({type:"CLOSE",index:r,value:e[r++]});else t.push({type:"OPEN",index:r,value:e[r++]});else t.push({type:"ESCAPED_CHAR",index:r++,value:e[r++]});else t.push({type:"MODIFIER",index:r,value:e[r++]})}return t.push({type:"END",index:r,value:""}),t}(e),n=t.prefixes,i=void 0===n?"./":n,o="[^"+x(t.delimiter||"/#?")+"]+?",a=[],u=0,l=0,s="",f=function(e){if(l<r.length&&r[l].type===e)return r[l++].value},p=function(e){var t=f(e);if(void 0!==t)return t;var n=r[l],i=n.type,o=n.index;throw new TypeError("Unexpected "+i+" at "+o+", expected "+e)},d=function(){for(var e,t="";e=f("CHAR")||f("ESCAPED_CHAR");)t+=e;return t};l<r.length;){var c=f("CHAR"),v=f("NAME"),h=f("PATTERN");if(v||h){var m=c||"";-1===i.indexOf(m)&&(s+=m,m=""),s&&(a.push(s),s=""),a.push({name:v||u++,prefix:m,suffix:"",pattern:h||o,modifier:f("MODIFIER")||""})}else{var g=c||f("ESCAPED_CHAR");if(g)s+=g;else if(s&&(a.push(s),s=""),f("OPEN")){m=d();var y=f("NAME")||"",E=f("PATTERN")||"",w=d();p("CLOSE"),a.push({name:y||(E?u++:""),pattern:y&&!E?o:E,prefix:m,suffix:w,modifier:f("MODIFIER")||""})}else p("END")}}return a}function w(e,t){var r=[];return function(e,t,r){void 0===r&&(r={});var n=r.decode,i=void 0===n?function(e){return e}:n;return function(r){var n=e.exec(r);if(!n)return!1;for(var o=n[0],a=n.index,u=Object.create(null),l=function(e){if(void 0===n[e])return"continue";var r=t[e-1];"*"===r.modifier||"+"===r.modifier?u[r.name]=n[e].split(r.prefix+r.suffix).map((function(e){return i(e,r)})):u[r.name]=i(n[e],r)},s=1;s<n.length;s++)l(s);return{path:o,index:a,params:u}}}(C(e,r,t),r,t)}function x(e){return e.replace(/([.+*?=^!:${}()[\]|/\\])/g,"\\$1")}function A(e){return e&&e.sensitive?"":"i"}function b(e,t,r){return function(e,t,r){void 0===r&&(r={});for(var n=r.strict,i=void 0!==n&&n,o=r.start,a=void 0===o||o,u=r.end,l=void 0===u||u,s=r.encode,f=void 0===s?function(e){return e}:s,p="["+x(r.endsWith||"")+"]|$",d="["+x(r.delimiter||"/#?")+"]",c=a?"^":"",v=0,h=e;v<h.length;v++){var m=h[v];if("string"==typeof m)c+=x(f(m));else{var g=x(f(m.prefix)),y=x(f(m.suffix));if(m.pattern)if(t&&t.push(m),g||y)if("+"===m.modifier||"*"===m.modifier){var E="*"===m.modifier?"?":"";c+="(?:"+g+"((?:"+m.pattern+")(?:"+y+g+"(?:"+m.pattern+"))*)"+y+")"+E}else c+="(?:"+g+"("+m.pattern+")"+y+")"+m.modifier;else c+="("+m.pattern+")"+m.modifier;else c+="(?:"+g+y+")"+m.modifier}}if(l)i||(c+=d+"?"),c+=r.endsWith?"(?="+p+")":"$";else{var w=e[e.length-1],b="string"==typeof w?d.indexOf(w[w.length-1])>-1:void 0===w;i||(c+="(?:"+d+"(?="+p+"))?"),b||(c+="(?="+d+"|"+p+")")}return new RegExp(c,A(r))}(E(e,r),t,r)}function C(e,t,r){return e instanceof RegExp?function(e,t){if(!t)return e;for(var r=/\((?:\?<(.*?)>)?(?!\?)/g,n=0,i=r.exec(e.source);i;)t.push({name:i[1]||n++,prefix:"",suffix:"",modifier:"",pattern:""}),i=r.exec(e.source);return e}(e,t):Array.isArray(e)?function(e,t,r){var n=e.map((function(e){return C(e,t,r).source}));return new RegExp("(?:"+n.join("|")+")",A(r))}(e,t,r):b(e,t,r)}const R=(e,t={type:"push"})=>{const r=new CustomEvent("hyperapp-router-navigate",{detail:{...t,href:e}});document.dispatchEvent(r)},O=e=>t=>{let r;for(r of e){const e=r.match(t);if(e)return{route:r,match:e}}return null},T=(e,t)=>{let r={};const n=O(t.routes),i=(n,i)=>{r.OnLeave&&e(r.OnLeave,r.params),t.RouteAction&&e(t.RouteAction,{params:i.params,path:i.path}),r={...n,params:i.params},r.OnEnter&&e(r.OnEnter,r.params)},o=(e,t)=>{i(e,t),window.history.pushState({},"",t.path)},a=(e,t)=>{i(e,t),window.history.replaceState({},"",t.path)},u=e=>{const t="replace"===e.detail.type?a:o;const r=n(e.detail.href);return t(r.route,r.match)};document.addEventListener("hyperapp-router-navigate",u);const l=e=>{const t=n(e.originalTarget.location.pathname);return i(t.route,t.match)};window.addEventListener("popstate",l);return setTimeout((()=>l({originalTarget:window})),0),()=>{document.removeEventListener("hyperapp-router-navigate",u),window.removeEventListener("popstate",l)}},P=(e,t)=>{const r=O(t.routes),n=e=>{if(!e.target.matches("a"))return null;const t=e.target.getAttribute("href");return r(t)?(e.preventDefault(),R(t,{type:"push"})):null};return document.addEventListener("click",n),()=>{document.removeEventListener("click",n)}},L=e=>[P,e],N=e=>`/${e.replace(/^\/+/,"")}`;var F={homePage:y`<div>
  <ul>
    <button><a href="/xbull">Connect with xBull</a></button>
    <button><a href="/albedo">Connect with Albedo</a></button>
    <button><a href="/freighter">Connect with Freighter</a></button>
  </ul>
</div>`,xbullPage:y`<div>XBULL</div>`,freighterPage:y`<div>FREIGHTER</div>`,albedoPage:y`<div>ALBEDOS</div>`};const k={viewFn:()=>y`<div></div>`};(e=>({router:t,...r})=>{const n=r.subscriptions?r.subscriptions:()=>[],i=(({routes:e,baseUrl:t})=>Object.keys(e).reduce(((r,n)=>{const i=N([t.replace(/.+(\/$)/,""),n.replace(/^\/+/,"")].map(N).join(""));return[...r,{...e[n],path:i,match:w(i)}]}),[]))({baseUrl:"",...t});return e({...r,subscriptions:e=>{return[...n(e),(r={routes:i,RouteAction:t.RouteAction},[T,r]),!t.disableAnchorCapture&&L({routes:i})];var r}})})((({node:n,view:a,subscriptions:l,dispatch:s=r,init:f=e})=>{var d,v,h=n&&c(n),m=[],g=e=>{d!==e&&(null==(d=e)&&(s=l=y=r),l&&(m=((e,r=t,n)=>{for(var i,o,a=[],l=0;l<e.length||l<r.length;l++)i=e[l],o=r[l],a.push(o&&!0!==o?!i||o[0]!==i[0]||u(o[1],i[1])?[o[0],o[1],(i&&i[2](),o[0](n,o[1]))]:i:i&&i[2]());return a})(m,l(d),s)),a&&!v&&o(y,v=!0))},y=()=>n=p(n.parentNode,n,h,h=a(d),E,v=!1),E=function(e){s(this.events[e.type],e)};return(s=s(((e,t)=>"function"==typeof e?s(e(d,t)):i(e)?"function"==typeof e[0]?s(e[0],e[1]):e.slice(1).map((e=>e&&!0!==e&&e[0](s,e[1])),g(e[0])):g(e))))(f),s}))({router:{disableAnchorCapture:!0,routes:{"/":{OnEnter:e=>({...e,viewFn:()=>F.homePage})},"/xbull":{OnEnter:e=>({...e,viewFn:()=>F.xbullPage})},"/albedo":{OnEnter:e=>({...e,viewFn:()=>F.albedoPage})},"/freighter":{OnEnter:e=>({...e,viewFn:()=>F.freighterPage})}}},init:k,view:e=>e.viewFn(),node:document.getElementById("app")});
//# sourceMappingURL=index.74106f44.js.map
